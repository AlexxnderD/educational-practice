# Система учёта заявок на ремонт оргтехники

[![C#](https://img.shields.io/badge/C%23-.NET%20Framework-blue?logo=c-sharp)](https://dotnet.microsoft.com/)
[![SQL Server](https://img.shields.io/badge/Database-Microsoft%20SQL%20Server-red?logo=microsoft-sql-server)](https://www.microsoft.com/sql-server)
[![Windows Forms](https://img.shields.io/badge/UI-Windows%20Forms-0078d4?logo=windows)](https://docs.microsoft.com/en-us/dotnet/desktop/winforms/)
[![Visual Studio](https://img.shields.io/badge/IDE-Visual%20Studio-5c2d91?logo=visual-studio)](https://visualstudio.microsoft.com/)

Программный модуль для автоматизации процесса приема, обработки и отслеживания заявок на ремонт оргтехники в организации. Система предоставляет различные интерфейсы для клиентов, операторов и мастеров.

## Возможности

-   **Ролевая модель доступа**:
    -   **Клиент:** Создание, просмотр, редактирование и удаление своих заявок.
    -   **Оператор:** Обработка заявок, назначение мастеров, изменение статусов, отклонение заявок.
    -   **Мастер:** Просмотр назначенных заявок, формирование отчетов о выполненной работе, указание использованных запчастей.
-   **Управление жизненным циклом заявки:** Полный цикл от создания до закрытия с отслеживанием статусов.
-   **Поиск и фильтрация:** Поиск заявок по ключевым словам и фильтрация по статусам.
-   **Централизованное хранилище:** База данных для хранения информации о пользователях, заявках, технике и комментариях.

## Технологический стек

-   **Клиентская часть**: C#, .NET Framework, Windows Forms
-   **Серверная часть**: Microsoft SQL Server
-   **Архитектура**: Клиент-серверная
-   **Среда разработки**: Microsoft Visual Studio
-   **Библиотека для работы с БД**: Собственная библиотека `ControllerDB`

## Структура базы данных

Система использует реляционную БД со следующими основными таблицами:
-   **Users** (`UserID`, Login, Password, Role, FullName, Department)
-   **Requests** (`RequestID`, Title, Description, Status, CreationDate, ClientID, OperatorID, MasterID, DeviceTypeID, DeviceModelID)
-   **Comments** (`CommentID`, RequestID, UserID, CommentText, Date)
-   **ModelsOrg** (`ModelID`, ModelName, TypeID)
-   **TypesOrg** (`TypeID`, TypeName)

## Запуск приложения

### Предварительные требования

-   **ОС**: Windows
-   **ПО**:
    -   Установленный .NET Framework
    -   Microsoft SQL Server (Express или выше)
    -   Развернутая база данных (скрипты находятся в папке `/database/`)

### Установка и настройка

1.  **Разверните базу данных**:
    -   Выполните скрипты из папки `/database/` в SQL Server Management Studio (SSMS).

2.  **Настройте строку подключения**:
    -   В файле конфигурации приложения или в коде (например, в классе `ControllerDB`) укажите корректную строку подключения к вашему экземпляру SQL Server.

3.  **Запустите приложение**:
    -   Откройте решение (`.sln` файл) в Visual Studio.
    -   Восстановите зависимости (если потребуется).
    -   Соберите и запустите проект (F5).

## Использование системы

### 1. Авторизация

-   Введите ваш логин и пароль на форме входа. Система автоматически определит вашу роль и предоставит соответствующий интерфейс.

### 2. Интерфейс и права доступа

-   **Клиент**:
    -   Создание новых заявок на ремонт с описанием проблемы.
    -   Просмотр истории и текущего статуса своих заявок.
    -   Редактирование или удаление незавершенных заявок.

-   **Оператор**:
    -   Просмотр всех входящих заявок.
    -   Назначение заявок свободным мастерам.
    -   Изменение статусов заявок (например, "В работе", "Ожидает запчасти").
    -   Отклонение заявок с указанием причины.

-   **Мастер**:
    -   Просмотр заявок, назначенных лично ему.
    -   Подробный просмотр описания проблемы.
    -   Указание выполненной работы и использованных запчастей.
    -   Закрытие заявки после выполнения ремонта.

### 3. Основные операции

-   **Создание заявки**: Заполните форму, указав тип и модель техники, а также подробное описание неисправности.
-   **Поиск заявки**: Используйте строку поиска для быстрого нахождения заявок по ключевым словам.
-   **Изменение статуса**: Операторы и мастера могут менять статус заявки через контекстное меню или специальную форму.
-   **Добавление комментария**: Любой участник процесса может оставить комментарий к заявке для уточнения деталей.

## Тестирование

Проект включает модульные тесты для проверки корректности работы с базой данных и основного функционала.

-   **Покрытие тестами**: Включает тесты на успешную и неуспешную авторизацию, создание и редактирование заявок, назначение мастеров.
-   **Результаты тестирования**: Все основные сценарии работы протестированы и работают корректно.
-   **Запуск тестов**: Тесты можно запустить через Test Explorer в Visual Studio.

![Результаты тестирования](https://via.placeholder.com/600x300?text=Скриншот+окна+с+результатами+тестов)

## Документация

Полная техническая документация находится в папке [**/docs/**](/docs/).

### Краткое содержание проекта

#### 1. Проектирование системы

*   **Спецификация:** Система отвечает функциональным (учет заявок, отчетность) и нефункциональным (безопасность, надежность) требованиям.
*   **Диаграммы:**
    *   **Use Case (Прецедентов):** Взаимодействие акторов (Клиент, Оператор, Мастер) с системой.
    *   **Активности:** Процесс создания новой заявки.
    *   **Последовательности:** Взаимодействие пользователя с системой и БД при обработке заявки.

#### 2. База данных

*   **ER-диаграмма:** Отображает связи между сущностями (Users, Requests, Comments, ModelsOrg, TypesOrg).
*   **Словарь данных:** Подробное описание таблиц, атрибутов и их типов.

#### 3. Интерфейс

Макеты и реализованные экраны системы:
*   **Окно авторизации**
*   **Главная страница клиента**
*   **Главная страница оператора**
*   **Главная страница мастера**
